Version 4
SHEET 1 4016 680
WIRE 1808 -288 1696 -288
WIRE 3040 -272 2960 -272
WIRE 3056 -272 3040 -272
WIRE 1696 -224 1696 -288
WIRE 2960 -224 2960 -272
WIRE 2960 -112 2960 -144
WIRE 752 -96 432 -96
WIRE 784 -96 752 -96
WIRE 1248 -96 864 -96
WIRE 1696 -80 1696 -144
WIRE 432 -64 432 -96
WIRE 1248 -48 1248 -96
WIRE 1728 -32 1696 -32
WIRE 240 -16 -16 -16
WIRE 368 -16 320 -16
WIRE 432 48 432 32
WIRE 528 48 432 48
WIRE 752 48 752 -96
WIRE 896 48 752 48
WIRE 960 48 896 48
WIRE 1088 48 1040 48
WIRE 1168 48 1088 48
WIRE 3040 48 2960 48
WIRE 1168 64 1168 48
WIRE 1696 80 1696 -32
WIRE 2960 96 2960 48
WIRE 896 128 896 48
WIRE 1088 144 1088 48
WIRE -16 176 -16 -16
WIRE 1696 224 1696 160
WIRE 2960 224 2960 176
WIRE -16 272 -16 256
WIRE 528 272 528 48
WIRE 528 272 -16 272
WIRE 896 272 896 192
WIRE 896 272 528 272
WIRE 1088 272 1088 224
WIRE 1088 272 896 272
WIRE 1168 272 1168 128
WIRE 1168 272 1088 272
WIRE 1248 272 1248 32
WIRE 1248 272 1168 272
WIRE 1312 272 1248 272
WIRE 528 304 528 272
FLAG 528 304 0
FLAG 1312 272 POL
FLAG 1696 224 0
FLAG 1728 -32 VDlow
FLAG 1696 -80 0
FLAG 1808 -288 VDhigh
FLAG 2960 -112 0
FLAG 2960 224 0
FLAG 3040 -272 VAhigh
FLAG 3040 48 VAlow
FLAG 752 48 Vout
FLAG 1088 48 Vsense
SYMBOL npn 368 -64 R0
WINDOW 3 70 65 Left 2
SYMATTR Value 2N2222
SYMATTR InstName Q2
SYMBOL diode 912 192 R180
WINDOW 0 24 64 Left 2
WINDOW 3 -29 5 Left 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL res 1072 128 R0
SYMATTR InstName R1
SYMATTR Value 47k
SYMBOL res 1056 32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 47k
SYMBOL cap 1152 64 R0
SYMATTR InstName C1
SYMATTR Value 1µ
SYMBOL voltage 1696 64 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value PWL(0 1 0.1 1 0.100001 1k 0.2 1k 0.200001 1 0.5 1 0.500001 1k 0.6 1k 0.600001 1k 10 1k)
SYMBOL voltage 1696 -240 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PWL(0 10k 0.1 10k 0.100001 9k 0.2 9k 0.200001 10k 0.5 10k 0.500001 9k 0.6 9k 0.60001 9k 10 9k)
SYMBOL voltage 2960 80 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PWL(0 5k 0.3 5k 0.300001 4k 0.4 4k 0.400001 5k 0.5 5k 0.500001 6k 0.6 6k 0.600001 5k 10 5k)
SYMBOL voltage 2960 -240 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value PWL(0 5k 0.3 5k 0.300001 6k 0.4 6k 0.400001 5k 0.5 5k 0.500001 4k 0.6 4k 0.600001 5k 10 5k)
SYMBOL res 336 -32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 28 59 VTop 2
SYMATTR InstName R3
SYMATTR Value 300k
SYMBOL voltage -16 160 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value PULSE(0 3.3 0 0 0 0.00005 0.00010)
SYMBOL voltage 1248 -64 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value 10
SYMBOL res 880 -112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 300
TEXT 88 -104 Left 2 !.tran 0 0.25 0 .00001
