Version 4
SHEET 1 4016 680
WIRE 1808 -288 1696 -288
WIRE 3040 -272 2960 -272
WIRE 3056 -272 3040 -272
WIRE 1696 -224 1696 -288
WIRE 2960 -224 2960 -272
WIRE 256 -160 -144 -160
WIRE 576 -160 256 -160
WIRE 784 -160 576 -160
WIRE 864 -160 784 -160
WIRE 784 -128 784 -160
WIRE 944 -128 896 -128
WIRE 2960 -112 2960 -144
WIRE 256 -96 256 -160
WIRE -144 -80 -144 -160
WIRE 1696 -80 1696 -144
WIRE 576 -48 576 -80
WIRE 896 -48 896 -128
WIRE 896 -48 576 -48
WIRE 960 -48 896 -48
WIRE 1120 -48 1040 -48
WIRE 576 -32 576 -48
WIRE 1728 -32 1696 -32
WIRE 1120 16 1120 -48
WIRE 864 32 864 -160
WIRE -144 48 -144 0
WIRE 480 48 -144 48
WIRE 576 48 480 48
WIRE 3040 48 2960 48
WIRE 480 80 480 48
WIRE 1696 80 1696 -32
WIRE 1040 96 1040 -48
WIRE 2960 96 2960 48
WIRE -48 128 -336 128
WIRE 256 128 256 -16
WIRE 256 128 160 128
WIRE 416 128 256 128
WIRE 432 128 416 128
WIRE -336 160 -336 128
WIRE -144 160 -144 48
WIRE -48 176 -48 128
WIRE 16 176 -48 176
WIRE 1696 224 1696 160
WIRE 2960 224 2960 176
WIRE -336 272 -336 240
WIRE -144 272 -144 240
WIRE -144 272 -336 272
WIRE 160 272 160 224
WIRE 160 272 -144 272
WIRE 480 272 480 176
WIRE 480 272 160 272
WIRE 528 272 480 272
WIRE 784 272 784 -64
WIRE 784 272 528 272
WIRE 864 272 864 112
WIRE 864 272 784 272
WIRE 1040 272 1040 176
WIRE 1040 272 864 272
WIRE 1120 272 1120 80
WIRE 1120 272 1040 272
WIRE 1312 272 1120 272
WIRE 528 304 528 272
FLAG 528 304 0
FLAG 944 -128 POW
IOPIN 944 -128 Out
FLAG 1312 272 POL
FLAG 624 64 POLa
FLAG 1696 224 0
FLAG 1728 -32 VDlow
FLAG 1696 -80 0
FLAG 1808 -288 VDhigh
FLAG 2960 -112 0
FLAG 2960 224 0
FLAG 3040 -272 VAhigh
FLAG 3040 48 VAlow
SYMBOL npn 96 128 R0
SYMATTR InstName Q1
SYMATTR Value 2N2222
SYMBOL npn 416 80 R0
SYMATTR InstName Q2
SYMATTR Value 2N2222
SYMBOL res 112 160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 300k
SYMATTR SpiceLine tol=5 pwr=.25
SYMBOL voltage -336 144 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
WINDOW 3 -239 205 Left 2
SYMATTR Value PWL(0 0 0.05 0 0.05001 3.3 0.8 3.3 0.800001 0 10 0)
SYMATTR InstName D7photon
SYMBOL diode 800 -64 R180
WINDOW 0 24 64 Left 2
WINDOW 3 -29 5 Left 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL res 240 -112 R0
WINDOW 3 -99 63 Left 2
SYMATTR Value 100k
SYMATTR InstName R2
SYMBOL res 1024 80 R0
SYMATTR InstName R1
SYMATTR Value 47k
SYMBOL res 1056 -64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 47k
SYMBOL cap 1104 16 R0
SYMATTR InstName C1
SYMATTR Value 1µ
SYMBOL voltage 1696 64 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value PWL(0 1 0.1 1 0.100001 1k 0.2 1k 0.200001 1 0.5 1 0.500001 1k 0.6 1k 0.600001 1k 10 1k)
SYMBOL res -160 144 R0
SYMATTR InstName R5
SYMATTR Value R=V(VDlow)
SYMBOL res -160 -96 R0
SYMATTR InstName R6
SYMATTR Value R=V(VDhigh)
SYMBOL voltage 1696 -240 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PWL(0 10k 0.1 10k 0.100001 9k 0.2 9k 0.200001 10k 0.5 10k 0.500001 9k 0.6 9k 0.60001 9k 10 9k)
SYMBOL voltage 2960 80 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PWL(0 5k 0.3 5k 0.300001 4k 0.4 4k 0.400001 5k 0.5 5k 0.500001 6k 0.6 6k 0.600001 5k 10 5k)
SYMBOL voltage 2960 -240 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value PWL(0 5k 0.3 5k 0.300001 6k 0.4 6k 0.400001 5k 0.5 5k 0.500001 4k 0.6 4k 0.600001 5k 10 5k)
SYMBOL res 560 -48 R0
SYMATTR InstName R7
SYMATTR Value R=V(VAlow)
SYMBOL res 560 -176 R0
SYMATTR InstName R8
SYMATTR Value R=V(VAhigh)
SYMBOL voltage 864 16 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName POHa
SYMATTR Value 10
TEXT -640 -144 Left 2 !.tran 0 0.9 0 .00001
